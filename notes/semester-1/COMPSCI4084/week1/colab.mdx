---
title: "Colab"
description: "在浏览器中编写/运行/分享代码；启用 GPU/TPU；文件与协作；最小 R 运行时"
---

## 概要
- 目标：快速上手 Google Colab（云端 Jupyter 环境），完成从创建到分享与协作的闭环。
- 范围：创建与运行、GPU/TPU、依赖安装、Drive 文件、协作与修订、最小 R 支持。

## 学习目标
1. 创建并运行一个最小 Colab 笔记本，包含代码与 Markdown 单元。
2. 启用 GPU/TPU 并运行简要的数值/绘图示例。
3. 挂载 Google Drive，完成文件读写；掌握共享与版本历史。

## 关键知识点

### 1. 创建与运行（Getting Started）
- 步骤：访问 https://colab.research.google.com → 新建“New Notebook” → 运行示例代码。
```python
print("Hello, Colab!")
```
- 说明：在 Markdown 单元记录用途与步骤；首个代码单元建议放依赖安装命令。

---

### 2. 硬件加速（GPU/TPU）与绘图
- 步骤：Runtime → Change runtime type → Hardware accelerator 选择 GPU（或 TPU）。
- 安装与绘图：
```bash
pip -q install numpy matplotlib
```
```python
import numpy as np
import matplotlib.pyplot as plt
arr = np.random.rand(100) * 10
plt.plot(arr)
plt.title("Random * 10")
plt.show()
```
- 提示：固定关键库版本可降低环境漂移；绘图需先导入 `matplotlib.pyplot`。

---

### 3. 协作与版本历史
- 共享：右上角 Share → 添加协作者邮箱与权限。
- 历史：File → Revision history 查看并回滚。

---

### 4. 挂载 Drive 与文件 IO
```python
from google.colab import drive
drive.mount('/content/drive')
base = '/content/drive/MyDrive'
import os; os.listdir(base)
with open(f"{base}/colab-demo.txt", "w") as f:
    f.write("Saved from Colab.")
```
- 注意：运行时重置会清空临时存储；重要文件应写入 Drive。

---

### 5. R 运行时（最小示例）
```bash
apt-get -y update && apt-get -y install r-base
R -e "install.packages('IRkernel'); IRkernel::installspec(user = FALSE)"
```
- 切换 Runtime → Change runtime type → 选择 R；运行：
```r
print("Hello, R in Colab!")
```

---

## 最佳实践
- 固定依赖与可复现环境
- 持久化重要文件并管理共享

---

## 更新记录
- 最后更新：2025-09-28
